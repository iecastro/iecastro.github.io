"0","########## spatial autocorrelation"
"0","## create neighbors"
"0","MapSP <- as_Spatial(MapDiab)  ## convert to Spatial Polygons"
"0","coords <- coordinates(MapSP) "
"0","IDs <- row.names(as(MapSP, ""data.frame""))"
"0","neighbors <- tri2nb(coords, row.names = IDs)"
"0","## Moran's I"
"0","MapSP$diabetes <- as.numeric(MapSP$DiabPrev)"
"0","moran.test(MapSP$diabetes,nb2listw(neighbors),na.action = na.omit)"
"1","
"
"1","	Moran I test under randomisation"
"1","
"
"1","
"
"1","data:  "
"1","MapSP$diabetes  
weights: nb2listw(neighbors) 
omitted: 1543, 3118   
"
"1","
"
"1","Moran I statistic standard deviate = 67.205, p-value < 2.2e-16"
"1","
"
"1","alternative hypothesis: "
"1","greater"
"1","
"
"1","sample estimates:
"
"1","Moran I statistic "
"1","      Expectation "
"1","         Variance "
"1","
"
"1","     0.6962110037 "
"1","    -0.0003185728 "
"1","     0.0001074177 "
"1","
"
"1","
"
